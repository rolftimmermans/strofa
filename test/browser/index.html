<html>
<head>
  <meta charset="utf-8">
  <title>MHC Browser Tests</title>
  <link rel="stylesheet" href="../../node_modules/mocha/mocha.css">
</head>
<body>
  <div id="mocha"></div>
  <script src="../../node_modules/chai/chai.js"></script>
  <script src="../../node_modules/mocha/mocha.js"></script>
  <script src="../../dist/mhc.min.js"></script>
  <script>
    var assert = chai.assert
    mocha.setup("bdd")

    describe("Coder", function() {
      it("should compress based on new model", function() {
        var model = new mhc.Model
        model.push("abcabcbdadefffbac")
        var coder = model.getCoder()

        assert.equal(coder.decodeBase64(coder.encodeBase64("abacbac")), "abacbac")
      })

      it("should compress based on new model via buffer", function() {
        var model = new mhc.Model
        model.push("abcabcbdadefffbac")
        var coder = mhc.Coder.fromBuffer(model.toBuffer())

        assert.equal(coder.decodeBase64(coder.encodeBase64("abacbac")), "abacbac")
      })
    })

    mocha.checkLeaks()
    mocha.run()
  </script>
  <div id="header" style="display:none"></div>
</body>
</html>
